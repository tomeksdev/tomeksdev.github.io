{% assign giscus = site.giscus %}
{% if giscus and giscus.repo and giscus.repo_id and giscus.category_id %}
<section class="comments">
  <script src="https://giscus.app/client.js"
          data-repo="{{ giscus.repo }}"
          data-repo-id="{{ giscus.repo_id }}"
          data-category="{{ giscus.category }}"
          data-category-id="{{ giscus.category_id }}"
          data-mapping="{{ giscus.mapping | default: 'pathname' }}"
          data-strict="{{ giscus.strict | default: '0' }}"
          data-reactions-enabled="{{ giscus.reactions_enabled | default: '1' }}"
          data-emit-metadata="{{ giscus.emit_metadata | default: '0' }}"
          data-input-position="{{ giscus.input_position | default: 'bottom' }}"
          data-theme="{{ giscus.theme | default: 'transparent_dark' }}"
          data-lang="{{ giscus.lang | default: 'en' }}"
          crossorigin="anonymous"
          async>
  </script>
  <noscript>Please enable JavaScript to view the comments.</noscript>
</section>
{% else %}
<section class="comments comments--placeholder">
  <p>Comments are disabled until giscus is connected.</p>
</section>
{% endif %}
